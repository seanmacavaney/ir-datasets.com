<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="main.css" />
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
<script src="main.js"></script>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="noindex,nofollow" />
<title>MSMARCO (document, version 2) - ir_datasets</title>
</head>
<body>
<div class="page">

<div class="banner">This documentation is for <strong>master</strong>. See <a href="../msmarco-document-v2.html">here</a> for documentation of the current latest version on pypi.</div>

<div style="position: absolute; top: 4px; left: 4px;"><a href="index.html">&larr; home</a></div>

<div style="position: absolute; top: 4px; right: 4px;">Github: <a href="https://github.com/allenai/ir_datasets/blob/master/ir_datasets/datasets/msmarco_document_v2.py">datasets/msmarco_document_v2.py</a></div>
<h1><code>ir_datasets</code>: MSMARCO (document, version 2)</h1>
<div style="font-weight: bold; font-size: 1.1em;">Index</div>
<ol class="index">
<li><a href="#msmarco-document-v2"><kbd>msmarco-document-v2</kbd></a></li>
<li><a href="#msmarco-document-v2/anchor-text"><kbd><span class="prefix">msmarco-document-v2</span>/anchor-text</kbd></a></li>
<li><a href="#msmarco-document-v2/dev1"><kbd><span class="prefix">msmarco-document-v2</span>/dev1</kbd></a></li>
<li><a href="#msmarco-document-v2/dev2"><kbd><span class="prefix">msmarco-document-v2</span>/dev2</kbd></a></li>
<li><a href="#msmarco-document-v2/train"><kbd><span class="prefix">msmarco-document-v2</span>/train</kbd></a></li>
<li><a href="#msmarco-document-v2/trec-dl-2019"><kbd><span class="prefix">msmarco-document-v2</span>/trec-dl-2019</kbd></a></li>
<li><a href="#msmarco-document-v2/trec-dl-2019/judged"><kbd><span class="prefix">msmarco-document-v2</span>/trec-dl-2019/judged</kbd></a></li>
<li><a href="#msmarco-document-v2/trec-dl-2020"><kbd><span class="prefix">msmarco-document-v2</span>/trec-dl-2020</kbd></a></li>
<li><a href="#msmarco-document-v2/trec-dl-2020/judged"><kbd><span class="prefix">msmarco-document-v2</span>/trec-dl-2020/judged</kbd></a></li>
<li><a href="#msmarco-document-v2/trec-dl-2021"><kbd><span class="prefix">msmarco-document-v2</span>/trec-dl-2021</kbd></a></li>
<li><a href="#msmarco-document-v2/trec-dl-2021/judged"><kbd><span class="prefix">msmarco-document-v2</span>/trec-dl-2021/judged</kbd></a></li>
<li><a href="#msmarco-document-v2/trec-dl-2022"><kbd><span class="prefix">msmarco-document-v2</span>/trec-dl-2022</kbd></a></li>
</ol>
<div id="Downloads">
</div>
<hr />
<div class="dataset" id="msmarco-document-v2">
<h3><kbd class="select"><span class="str">"msmarco-document-v2"</span></kbd></h3>

<div class="desc">
 <p> Version 2 of the MS MARCO document ranking dataset. The corpus contains 12M documents (roughly 3x as many as version 1). </p> <ul> <li>Version 1 of dataset: <a class="ds-ref">msmarco-document</a></li> <li>Documents: Text extracted from web pages</li> <li>Queries: Natural language questions (from query log)</li> <li><a href="https://arxiv.org/abs/1611.09268">Dataset Paper</a></li> </ul>
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2__docs">docs</a>
<div id="msmarco-document-v2__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2 docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2__citation">Citation</a>
<div id="msmarco-document-v2__citation" class="tab-content">
<p><a href="ir_datasets.bib">ir_datasets.bib</a>:</p><cite class="select">\cite{Bajaj2016Msmarco}</cite>
<p>Bibtex:</p>
<cite class="select">@inproceedings{Bajaj2016Msmarco,
  title={MS MARCO: A Human Generated MAchine Reading COmprehension Dataset},
  author={Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao, Xiaodong Liu, Rangan Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, Mir Rosenberg, Xia Song, Alina Stoica, Saurabh Tiwary, Tong Wang},
  booktitle={InCoCo@NIPS},
  year={2016}
}</cite>
</div>

<a class="tab" target="msmarco-document-v2__metadata">Metadata</a>
<div id="msmarco-document-v2__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/anchor-text" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/anchor-text"</span></kbd></h3>

<div class="desc">
 <p> For version 2 of MS MARCO, the anchor text collection enriches 4,821,244 documents with anchor text extracted from six Common Crawl snapshots. To keep the collection size reasonable, we sampled 1,000 anchor texts for documents with more than 1,000 anchor texts (this sampling yields that all anchor text is included for 97% of the documents). The <code>text</code> field contains the anchor texts concatenated and the <code>anchors</code> field contains the anchor texts as list. The raw dataset with additional information (roughly 100GB) is <a href="https://github.com/webis-de/ecir22-anchor-text">available online</a>. </p> 
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/anchor-text__docs">docs</a>
<div id="msmarco-document-v2/anchor-text__docs" class="tab-content">
<span class="ds-count"><kbd title="4821244">4.8M</kbd> <kbd>docs</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2AnchorTextDocument: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">anchors</span>: <span class="kwd">List</span>[<span class="kwd">str</span>]</li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/anchor-text&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, text, anchors&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/anchor-text docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]&nbsp;&nbsp;&nbsp;&nbsp;[anchors]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/anchor-text&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2/anchor-text</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2_anchor-text&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.anchor-text&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/anchor-text__citation">Citation</a>
<div id="msmarco-document-v2/anchor-text__citation" class="tab-content">
<p><a href="ir_datasets.bib">ir_datasets.bib</a>:</p><cite class="select">\cite{Froebe2022Anchors}</cite>
<p>Bibtex:</p>
<cite class="select">@inproceedings{Froebe2022Anchors,
  address =               {Berlin Heidelberg New York},
  author =                {Maik Fr{\"o}be and Sebastian G{\"u}nther and Maximilian Probst and Martin Potthast and Matthias Hagen},
  booktitle =             {Advances in Information Retrieval. 44th European Conference on IR Research (ECIR 2022)},
  month =                 apr,
  publisher =             {Springer},
  series =                {Lecture Notes in Computer Science},
  site =                  {Stavanger, Norway},
  title =                 {{The Power of Anchor Text in the Neural Retrieval Era}},
  year =                  2022
}</cite>
</div>

<a class="tab" target="msmarco-document-v2/anchor-text__metadata">Metadata</a>
<div id="msmarco-document-v2/anchor-text__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 4821244,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/dev1" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/dev1"</span></kbd></h3>

<div class="desc">
 <p> Official dev1 set with 4,552 queries. </p> 
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/dev1__queries">queries</a>
<div id="msmarco-document-v2/dev1__queries" class="tab-content">
<span class="ds-count"><kbd title="4552">4.6K</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/dev1&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/dev1 queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/dev1&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.dev1.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/dev1__docs">docs</a>
<div id="msmarco-document-v2/dev1__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/dev1&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/dev1 docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/dev1&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.dev1&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/dev1__qrels">qrels</a>
<div id="msmarco-document-v2/dev1__qrels" class="tab-content">
<span class="ds-count"><kbd title="4702">4.7K</kbd> <kbd>qrels</kbd></span>

<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">TrecQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">iteration</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th><th>Count</th><th>%</th></tr>
<tr><td class="relScore">1</td><td>Document contains a passage labeled as relevant in msmarco-passage</td><td class="right"><kbd title="4702">4.7K</kbd></td><td class="right">100.0%</td></tr>
</table>

<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/dev1&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qrel</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">qrels_iter</span><span class="p">():</span>
    <span class="n">qrel</span> <span class="c1"># namedtuple&lt;query_id, doc_id, relevance, iteration&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/dev1 qrels --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[relevance]&nbsp;&nbsp;&nbsp;&nbsp;[iteration]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="kn">from</span> <span class="nn">pyterrier.measures</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/dev1&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pipeline</span><span class="p">],</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(),</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_qrels</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">MAP</span><span class="p">,</span> <span class="n">nDCG</span><span class="o">@</span><span class="mi">20</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
<p>You can find more details about PyTerrier experiments <a href="https://pyterrier.readthedocs.io/en/latest/experiments.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">qrels</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.dev1.qrels&#39;</span><span class="p">)</span>  <span class="c1"># AdhocAssessments</span>
<span class="k">for</span> <span class="n">topic_qrels</span> <span class="ow">in</span> <span class="n">qrels</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic_qrels</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocAssessments">AdhocAssessments</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/dev1__scoreddocs">scoreddocs</a>
<div id="msmarco-document-v2/dev1__scoreddocs" class="tab-content">
<span class="ds-count"><kbd title="455200">455K</kbd> <kbd>scoreddocs</kbd></span>

<div>Scored Document type:</div>
<div class="type">
<div class="type-name">GenericScoredDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">score</span>: <span class="kwd">float</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/dev1&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">scoreddoc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">scoreddocs_iter</span><span class="p">():</span>
    <span class="n">scoreddoc</span> <span class="c1"># namedtuple&lt;query_id, doc_id, score&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/dev1 scoreddocs --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[score]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/dev1&#39;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
</pre></div>
<p>You can find more details about PyTerrier dataset API <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#pyterrier.datasets.Dataset.get_results">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datamaestro</span> <span class="c1"># Supposes experimaestro-ir be installed</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">datamaestro</span><span class="o">.</span><span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.dev1.scoreddocs&#39;</span><span class="p">)</span> <span class="c1"># AdhocRun</span>
<span class="c1"># A run is a generic object, and is specialized into final classes</span>
<span class="c1"># e.g. TrecAdhocRun </span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocRun">AdhocRun</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/dev1__citation">Citation</a>
<div id="msmarco-document-v2/dev1__citation" class="tab-content">
<p><a href="ir_datasets.bib">ir_datasets.bib</a>:</p><cite class="select">\cite{Bajaj2016Msmarco}</cite>
<p>Bibtex:</p>
<cite class="select">@inproceedings{Bajaj2016Msmarco,
  title={MS MARCO: A Human Generated MAchine Reading COmprehension Dataset},
  author={Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao, Xiaodong Liu, Rangan Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, Mir Rosenberg, Xia Song, Alina Stoica, Saurabh Tiwary, Tong Wang},
  booktitle={InCoCo@NIPS},
  year={2016}
}</cite>
</div>

<a class="tab" target="msmarco-document-v2/dev1__metadata">Metadata</a>
<div id="msmarco-document-v2/dev1__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 4552
  },
  "qrels": {
    "count": 4702,
    "fields": {
      "relevance": {
        "counts_by_value": {
          "1": 4702
        }
      }
    }
  },
  "scoreddocs": {
    "count": 455200
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/dev2" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/dev2"</span></kbd></h3>

<div class="desc">
 <p> Official dev2 set with 5,000 queries. </p> 
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/dev2__queries">queries</a>
<div id="msmarco-document-v2/dev2__queries" class="tab-content">
<span class="ds-count"><kbd title="5000">5.0K</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/dev2&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/dev2 queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/dev2&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.dev2.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/dev2__docs">docs</a>
<div id="msmarco-document-v2/dev2__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/dev2&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/dev2 docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/dev2&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.dev2&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/dev2__qrels">qrels</a>
<div id="msmarco-document-v2/dev2__qrels" class="tab-content">
<span class="ds-count"><kbd title="5178">5.2K</kbd> <kbd>qrels</kbd></span>

<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">TrecQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">iteration</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th><th>Count</th><th>%</th></tr>
<tr><td class="relScore">1</td><td>Document contains a passage labeled as relevant in msmarco-passage</td><td class="right"><kbd title="5178">5.2K</kbd></td><td class="right">100.0%</td></tr>
</table>

<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/dev2&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qrel</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">qrels_iter</span><span class="p">():</span>
    <span class="n">qrel</span> <span class="c1"># namedtuple&lt;query_id, doc_id, relevance, iteration&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/dev2 qrels --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[relevance]&nbsp;&nbsp;&nbsp;&nbsp;[iteration]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="kn">from</span> <span class="nn">pyterrier.measures</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/dev2&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pipeline</span><span class="p">],</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(),</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_qrels</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">MAP</span><span class="p">,</span> <span class="n">nDCG</span><span class="o">@</span><span class="mi">20</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
<p>You can find more details about PyTerrier experiments <a href="https://pyterrier.readthedocs.io/en/latest/experiments.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">qrels</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.dev2.qrels&#39;</span><span class="p">)</span>  <span class="c1"># AdhocAssessments</span>
<span class="k">for</span> <span class="n">topic_qrels</span> <span class="ow">in</span> <span class="n">qrels</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic_qrels</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocAssessments">AdhocAssessments</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/dev2__scoreddocs">scoreddocs</a>
<div id="msmarco-document-v2/dev2__scoreddocs" class="tab-content">
<span class="ds-count"><kbd title="500000">500K</kbd> <kbd>scoreddocs</kbd></span>

<div>Scored Document type:</div>
<div class="type">
<div class="type-name">GenericScoredDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">score</span>: <span class="kwd">float</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/dev2&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">scoreddoc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">scoreddocs_iter</span><span class="p">():</span>
    <span class="n">scoreddoc</span> <span class="c1"># namedtuple&lt;query_id, doc_id, score&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/dev2 scoreddocs --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[score]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/dev2&#39;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
</pre></div>
<p>You can find more details about PyTerrier dataset API <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#pyterrier.datasets.Dataset.get_results">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datamaestro</span> <span class="c1"># Supposes experimaestro-ir be installed</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">datamaestro</span><span class="o">.</span><span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.dev2.scoreddocs&#39;</span><span class="p">)</span> <span class="c1"># AdhocRun</span>
<span class="c1"># A run is a generic object, and is specialized into final classes</span>
<span class="c1"># e.g. TrecAdhocRun </span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocRun">AdhocRun</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/dev2__citation">Citation</a>
<div id="msmarco-document-v2/dev2__citation" class="tab-content">
<p><a href="ir_datasets.bib">ir_datasets.bib</a>:</p><cite class="select">\cite{Bajaj2016Msmarco}</cite>
<p>Bibtex:</p>
<cite class="select">@inproceedings{Bajaj2016Msmarco,
  title={MS MARCO: A Human Generated MAchine Reading COmprehension Dataset},
  author={Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao, Xiaodong Liu, Rangan Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, Mir Rosenberg, Xia Song, Alina Stoica, Saurabh Tiwary, Tong Wang},
  booktitle={InCoCo@NIPS},
  year={2016}
}</cite>
</div>

<a class="tab" target="msmarco-document-v2/dev2__metadata">Metadata</a>
<div id="msmarco-document-v2/dev2__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 5000
  },
  "qrels": {
    "count": 5178,
    "fields": {
      "relevance": {
        "counts_by_value": {
          "1": 5178
        }
      }
    }
  },
  "scoreddocs": {
    "count": 500000
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/train" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/train"</span></kbd></h3>

<div class="desc">
 <p> Official train set with 322,196 queries. </p> 
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/train__queries">queries</a>
<div id="msmarco-document-v2/train__queries" class="tab-content">
<span class="ds-count"><kbd title="322196">322K</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/train&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/train queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/train&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.train.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/train__docs">docs</a>
<div id="msmarco-document-v2/train__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/train&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/train docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/train&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.train&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/train__qrels">qrels</a>
<div id="msmarco-document-v2/train__qrels" class="tab-content">
<span class="ds-count"><kbd title="331956">332K</kbd> <kbd>qrels</kbd></span>

<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">TrecQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">iteration</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th><th>Count</th><th>%</th></tr>
<tr><td class="relScore">1</td><td>Document contains a passage labeled as relevant in msmarco-passage</td><td class="right"><kbd title="331956">332K</kbd></td><td class="right">100.0%</td></tr>
</table>

<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/train&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qrel</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">qrels_iter</span><span class="p">():</span>
    <span class="n">qrel</span> <span class="c1"># namedtuple&lt;query_id, doc_id, relevance, iteration&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/train qrels --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[relevance]&nbsp;&nbsp;&nbsp;&nbsp;[iteration]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="kn">from</span> <span class="nn">pyterrier.measures</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/train&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pipeline</span><span class="p">],</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(),</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_qrels</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">MAP</span><span class="p">,</span> <span class="n">nDCG</span><span class="o">@</span><span class="mi">20</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
<p>You can find more details about PyTerrier experiments <a href="https://pyterrier.readthedocs.io/en/latest/experiments.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">qrels</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.train.qrels&#39;</span><span class="p">)</span>  <span class="c1"># AdhocAssessments</span>
<span class="k">for</span> <span class="n">topic_qrels</span> <span class="ow">in</span> <span class="n">qrels</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic_qrels</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocAssessments">AdhocAssessments</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/train__scoreddocs">scoreddocs</a>
<div id="msmarco-document-v2/train__scoreddocs" class="tab-content">
<span class="ds-count"><kbd title="32218809">32M</kbd> <kbd>scoreddocs</kbd></span>

<div>Scored Document type:</div>
<div class="type">
<div class="type-name">GenericScoredDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">score</span>: <span class="kwd">float</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/train&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">scoreddoc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">scoreddocs_iter</span><span class="p">():</span>
    <span class="n">scoreddoc</span> <span class="c1"># namedtuple&lt;query_id, doc_id, score&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/train scoreddocs --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[score]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/train&#39;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
</pre></div>
<p>You can find more details about PyTerrier dataset API <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#pyterrier.datasets.Dataset.get_results">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datamaestro</span> <span class="c1"># Supposes experimaestro-ir be installed</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">datamaestro</span><span class="o">.</span><span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.train.scoreddocs&#39;</span><span class="p">)</span> <span class="c1"># AdhocRun</span>
<span class="c1"># A run is a generic object, and is specialized into final classes</span>
<span class="c1"># e.g. TrecAdhocRun </span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocRun">AdhocRun</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/train__citation">Citation</a>
<div id="msmarco-document-v2/train__citation" class="tab-content">
<p><a href="ir_datasets.bib">ir_datasets.bib</a>:</p><cite class="select">\cite{Bajaj2016Msmarco}</cite>
<p>Bibtex:</p>
<cite class="select">@inproceedings{Bajaj2016Msmarco,
  title={MS MARCO: A Human Generated MAchine Reading COmprehension Dataset},
  author={Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao, Xiaodong Liu, Rangan Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, Mir Rosenberg, Xia Song, Alina Stoica, Saurabh Tiwary, Tong Wang},
  booktitle={InCoCo@NIPS},
  year={2016}
}</cite>
</div>

<a class="tab" target="msmarco-document-v2/train__metadata">Metadata</a>
<div id="msmarco-document-v2/train__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 322196
  },
  "qrels": {
    "count": 331956,
    "fields": {
      "relevance": {
        "counts_by_value": {
          "1": 331956
        }
      }
    }
  },
  "scoreddocs": {
    "count": 32218809
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/trec-dl-2019" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/trec-dl-2019"</span></kbd></h3>

<div class="desc">
 <p> Queries from the TREC Deep Learning (DL) 2019 shared task, which were sampled from <a class="ds-ref">msmarco-document/eval</a>. A subset of these queries were judged by NIST assessors, (filtered list available in <a class="ds-ref">msmarco-document-v2/trec-dl-2019/judged</a>). </p> <ul> <li><a href="https://arxiv.org/pdf/2003.07820.pdf">Shared Task Paper</a></li> </ul> 
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/trec-dl-2019__queries">queries</a>
<div id="msmarco-document-v2/trec-dl-2019__queries" class="tab-content">
<span class="ds-count"><kbd title="200">200</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2019&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2019 queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2019&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2019.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2019__docs">docs</a>
<div id="msmarco-document-v2/trec-dl-2019__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2019&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2019 docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2019&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2019&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2019__qrels">qrels</a>
<div id="msmarco-document-v2/trec-dl-2019__qrels" class="tab-content">
<span class="ds-count"><kbd title="13940">14K</kbd> <kbd>qrels</kbd></span>

<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">TrecQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">iteration</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th><th>Count</th><th>%</th></tr>
<tr><td class="relScore">0</td><td>Irrelevant: Document does not provide any useful information about the query</td><td class="right"><kbd title="8229">8.2K</kbd></td><td class="right">59.0%</td></tr>
<tr><td class="relScore">1</td><td>Relevant: Document provides some information relevant to the query, which may be minimal.</td><td class="right"><kbd title="3957">4.0K</kbd></td><td class="right">28.4%</td></tr>
<tr><td class="relScore">2</td><td>Highly relevant: The content of this document provides substantial information on the query.</td><td class="right"><kbd title="1009">1.0K</kbd></td><td class="right">7.2%</td></tr>
<tr><td class="relScore">3</td><td>Perfectly relevant: Document is dedicated to the query, it is worthy of being a top result in a search engine.</td><td class="right"><kbd title="745">745<span style="visibility: hidden;">&nbsp;</span></kbd></td><td class="right">5.3%</td></tr>
</table>

<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2019&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qrel</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">qrels_iter</span><span class="p">():</span>
    <span class="n">qrel</span> <span class="c1"># namedtuple&lt;query_id, doc_id, relevance, iteration&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2019 qrels --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[relevance]&nbsp;&nbsp;&nbsp;&nbsp;[iteration]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="kn">from</span> <span class="nn">pyterrier.measures</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2019&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pipeline</span><span class="p">],</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(),</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_qrels</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">MAP</span><span class="p">,</span> <span class="n">nDCG</span><span class="o">@</span><span class="mi">20</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
<p>You can find more details about PyTerrier experiments <a href="https://pyterrier.readthedocs.io/en/latest/experiments.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">qrels</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2019.qrels&#39;</span><span class="p">)</span>  <span class="c1"># AdhocAssessments</span>
<span class="k">for</span> <span class="n">topic_qrels</span> <span class="ow">in</span> <span class="n">qrels</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic_qrels</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocAssessments">AdhocAssessments</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2019__citation">Citation</a>
<div id="msmarco-document-v2/trec-dl-2019__citation" class="tab-content">
<p><a href="ir_datasets.bib">ir_datasets.bib</a>:</p><cite class="select">\cite{Craswell2019TrecDl,Bajaj2016Msmarco}</cite>
<p>Bibtex:</p>
<cite class="select">@inproceedings{Craswell2019TrecDl,
  title={Overview of the TREC 2019 deep learning track},
  author={Nick Craswell and Bhaskar Mitra and Emine Yilmaz and Daniel Campos and Ellen Voorhees},
  booktitle={TREC 2019},
  year={2019}
}
@inproceedings{Bajaj2016Msmarco,
  title={MS MARCO: A Human Generated MAchine Reading COmprehension Dataset},
  author={Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao, Xiaodong Liu, Rangan Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, Mir Rosenberg, Xia Song, Alina Stoica, Saurabh Tiwary, Tong Wang},
  booktitle={InCoCo@NIPS},
  year={2016}
}</cite>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2019__metadata">Metadata</a>
<div id="msmarco-document-v2/trec-dl-2019__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 200
  },
  "qrels": {
    "count": 13940,
    "fields": {
      "relevance": {
        "counts_by_value": {
          "0": 8229,
          "1": 3957,
          "2": 1009,
          "3": 745
        }
      }
    }
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/trec-dl-2019/judged" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/trec-dl-2019/judged"</span></kbd></h3>

<div class="desc">
 <p> Subset of <a class="ds-ref">msmarco-document-v2/trec-dl-2019</a>, only including queries with qrels. </p> 
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/trec-dl-2019/judged__queries">queries</a>
<div id="msmarco-document-v2/trec-dl-2019/judged__queries" class="tab-content">
<span class="ds-count"><kbd title="43">43</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2019/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2019/judged queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2019/judged&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2019.judged.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2019/judged__docs">docs</a>
<div id="msmarco-document-v2/trec-dl-2019/judged__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2019/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2019/judged docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2019/judged&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2019.judged&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2019/judged__qrels">qrels</a>
<div id="msmarco-document-v2/trec-dl-2019/judged__qrels" class="tab-content">
<span class="ds-count"><kbd title="13940">14K</kbd> <kbd>qrels</kbd></span>
<p>Inherits qrels from <a class="ds-ref">msmarco-document-v2/trec-dl-2019</a></p>
<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">TrecQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">iteration</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th><th>Count</th><th>%</th></tr>
<tr><td class="relScore">0</td><td>Irrelevant: Document does not provide any useful information about the query</td><td class="right"><kbd title="8229">8.2K</kbd></td><td class="right">59.0%</td></tr>
<tr><td class="relScore">1</td><td>Relevant: Document provides some information relevant to the query, which may be minimal.</td><td class="right"><kbd title="3957">4.0K</kbd></td><td class="right">28.4%</td></tr>
<tr><td class="relScore">2</td><td>Highly relevant: The content of this document provides substantial information on the query.</td><td class="right"><kbd title="1009">1.0K</kbd></td><td class="right">7.2%</td></tr>
<tr><td class="relScore">3</td><td>Perfectly relevant: Document is dedicated to the query, it is worthy of being a top result in a search engine.</td><td class="right"><kbd title="745">745<span style="visibility: hidden;">&nbsp;</span></kbd></td><td class="right">5.3%</td></tr>
</table>

<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2019/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qrel</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">qrels_iter</span><span class="p">():</span>
    <span class="n">qrel</span> <span class="c1"># namedtuple&lt;query_id, doc_id, relevance, iteration&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2019/judged qrels --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[relevance]&nbsp;&nbsp;&nbsp;&nbsp;[iteration]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="kn">from</span> <span class="nn">pyterrier.measures</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2019/judged&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pipeline</span><span class="p">],</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(),</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_qrels</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">MAP</span><span class="p">,</span> <span class="n">nDCG</span><span class="o">@</span><span class="mi">20</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
<p>You can find more details about PyTerrier experiments <a href="https://pyterrier.readthedocs.io/en/latest/experiments.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">qrels</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2019.judged.qrels&#39;</span><span class="p">)</span>  <span class="c1"># AdhocAssessments</span>
<span class="k">for</span> <span class="n">topic_qrels</span> <span class="ow">in</span> <span class="n">qrels</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic_qrels</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocAssessments">AdhocAssessments</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2019/judged__citation">Citation</a>
<div id="msmarco-document-v2/trec-dl-2019/judged__citation" class="tab-content">
<p><a href="ir_datasets.bib">ir_datasets.bib</a>:</p><cite class="select">\cite{Craswell2019TrecDl,Bajaj2016Msmarco}</cite>
<p>Bibtex:</p>
<cite class="select">@inproceedings{Craswell2019TrecDl,
  title={Overview of the TREC 2019 deep learning track},
  author={Nick Craswell and Bhaskar Mitra and Emine Yilmaz and Daniel Campos and Ellen Voorhees},
  booktitle={TREC 2019},
  year={2019}
}
@inproceedings{Bajaj2016Msmarco,
  title={MS MARCO: A Human Generated MAchine Reading COmprehension Dataset},
  author={Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao, Xiaodong Liu, Rangan Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, Mir Rosenberg, Xia Song, Alina Stoica, Saurabh Tiwary, Tong Wang},
  booktitle={InCoCo@NIPS},
  year={2016}
}</cite>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2019/judged__metadata">Metadata</a>
<div id="msmarco-document-v2/trec-dl-2019/judged__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 43
  },
  "qrels": {
    "count": 13940,
    "fields": {
      "relevance": {
        "counts_by_value": {
          "0": 8229,
          "1": 3957,
          "2": 1009,
          "3": 745
        }
      }
    }
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/trec-dl-2020" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/trec-dl-2020"</span></kbd></h3>

<div class="desc">
 <p> Queries from the TREC Deep Learning (DL) 2020 shared task, which were sampled from <a class="ds-ref">msmarco-document/eval</a>. A subset of these queries were judged by NIST assessors, (filtered list available in <a class="ds-ref">msmarco-document-v2/trec-dl-2020/judged</a>). </p> <ul> <li><a href="https://arxiv.org/pdf/2102.07662.pdf">Shared Task Paper</a></li> </ul> 
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/trec-dl-2020__queries">queries</a>
<div id="msmarco-document-v2/trec-dl-2020__queries" class="tab-content">
<span class="ds-count"><kbd title="200">200</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2020&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2020 queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2020&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2020.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2020__docs">docs</a>
<div id="msmarco-document-v2/trec-dl-2020__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2020&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2020 docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2020&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2020&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2020__qrels">qrels</a>
<div id="msmarco-document-v2/trec-dl-2020__qrels" class="tab-content">
<span class="ds-count"><kbd title="7942">7.9K</kbd> <kbd>qrels</kbd></span>

<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">TrecQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">iteration</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th><th>Count</th><th>%</th></tr>
<tr><td class="relScore">0</td><td>Irrelevant: Document does not provide any useful information about the query</td><td class="right"><kbd title="6371">6.4K</kbd></td><td class="right">80.2%</td></tr>
<tr><td class="relScore">1</td><td>Relevant: Document provides some information relevant to the query, which may be minimal.</td><td class="right"><kbd title="1059">1.1K</kbd></td><td class="right">13.3%</td></tr>
<tr><td class="relScore">2</td><td>Highly relevant: The content of this document provides substantial information on the query.</td><td class="right"><kbd title="279">279<span style="visibility: hidden;">&nbsp;</span></kbd></td><td class="right">3.5%</td></tr>
<tr><td class="relScore">3</td><td>Perfectly relevant: Document is dedicated to the query, it is worthy of being a top result in a search engine.</td><td class="right"><kbd title="233">233<span style="visibility: hidden;">&nbsp;</span></kbd></td><td class="right">2.9%</td></tr>
</table>

<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2020&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qrel</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">qrels_iter</span><span class="p">():</span>
    <span class="n">qrel</span> <span class="c1"># namedtuple&lt;query_id, doc_id, relevance, iteration&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2020 qrels --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[relevance]&nbsp;&nbsp;&nbsp;&nbsp;[iteration]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="kn">from</span> <span class="nn">pyterrier.measures</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2020&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pipeline</span><span class="p">],</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(),</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_qrels</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">MAP</span><span class="p">,</span> <span class="n">nDCG</span><span class="o">@</span><span class="mi">20</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
<p>You can find more details about PyTerrier experiments <a href="https://pyterrier.readthedocs.io/en/latest/experiments.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">qrels</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2020.qrels&#39;</span><span class="p">)</span>  <span class="c1"># AdhocAssessments</span>
<span class="k">for</span> <span class="n">topic_qrels</span> <span class="ow">in</span> <span class="n">qrels</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic_qrels</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocAssessments">AdhocAssessments</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2020__citation">Citation</a>
<div id="msmarco-document-v2/trec-dl-2020__citation" class="tab-content">
<p><a href="ir_datasets.bib">ir_datasets.bib</a>:</p><cite class="select">\cite{Craswell2020TrecDl,Bajaj2016Msmarco}</cite>
<p>Bibtex:</p>
<cite class="select">@inproceedings{Craswell2020TrecDl,
  title={Overview of the TREC 2020 deep learning track},
  author={Nick Craswell and Bhaskar Mitra and Emine Yilmaz and Daniel Campos},
  booktitle={TREC},
  year={2020}
}
@inproceedings{Bajaj2016Msmarco,
  title={MS MARCO: A Human Generated MAchine Reading COmprehension Dataset},
  author={Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao, Xiaodong Liu, Rangan Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, Mir Rosenberg, Xia Song, Alina Stoica, Saurabh Tiwary, Tong Wang},
  booktitle={InCoCo@NIPS},
  year={2016}
}</cite>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2020__metadata">Metadata</a>
<div id="msmarco-document-v2/trec-dl-2020__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 200
  },
  "qrels": {
    "count": 7942,
    "fields": {
      "relevance": {
        "counts_by_value": {
          "0": 6371,
          "3": 233,
          "1": 1059,
          "2": 279
        }
      }
    }
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/trec-dl-2020/judged" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/trec-dl-2020/judged"</span></kbd></h3>

<div class="desc">
 <p> Subset of <a class="ds-ref">msmarco-document-v2/trec-dl-2020</a>, only including queries with qrels. </p> 
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/trec-dl-2020/judged__queries">queries</a>
<div id="msmarco-document-v2/trec-dl-2020/judged__queries" class="tab-content">
<span class="ds-count"><kbd title="45">45</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2020/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2020/judged queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2020/judged&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2020.judged.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2020/judged__docs">docs</a>
<div id="msmarco-document-v2/trec-dl-2020/judged__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2020/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2020/judged docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2020/judged&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2020.judged&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2020/judged__qrels">qrels</a>
<div id="msmarco-document-v2/trec-dl-2020/judged__qrels" class="tab-content">
<span class="ds-count"><kbd title="7942">7.9K</kbd> <kbd>qrels</kbd></span>
<p>Inherits qrels from <a class="ds-ref">msmarco-document-v2/trec-dl-2020</a></p>
<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">TrecQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">iteration</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th><th>Count</th><th>%</th></tr>
<tr><td class="relScore">0</td><td>Irrelevant: Document does not provide any useful information about the query</td><td class="right"><kbd title="6371">6.4K</kbd></td><td class="right">80.2%</td></tr>
<tr><td class="relScore">1</td><td>Relevant: Document provides some information relevant to the query, which may be minimal.</td><td class="right"><kbd title="1059">1.1K</kbd></td><td class="right">13.3%</td></tr>
<tr><td class="relScore">2</td><td>Highly relevant: The content of this document provides substantial information on the query.</td><td class="right"><kbd title="279">279<span style="visibility: hidden;">&nbsp;</span></kbd></td><td class="right">3.5%</td></tr>
<tr><td class="relScore">3</td><td>Perfectly relevant: Document is dedicated to the query, it is worthy of being a top result in a search engine.</td><td class="right"><kbd title="233">233<span style="visibility: hidden;">&nbsp;</span></kbd></td><td class="right">2.9%</td></tr>
</table>

<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2020/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qrel</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">qrels_iter</span><span class="p">():</span>
    <span class="n">qrel</span> <span class="c1"># namedtuple&lt;query_id, doc_id, relevance, iteration&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2020/judged qrels --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[relevance]&nbsp;&nbsp;&nbsp;&nbsp;[iteration]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="kn">from</span> <span class="nn">pyterrier.measures</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2020/judged&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pipeline</span><span class="p">],</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(),</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_qrels</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">MAP</span><span class="p">,</span> <span class="n">nDCG</span><span class="o">@</span><span class="mi">20</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
<p>You can find more details about PyTerrier experiments <a href="https://pyterrier.readthedocs.io/en/latest/experiments.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">qrels</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2020.judged.qrels&#39;</span><span class="p">)</span>  <span class="c1"># AdhocAssessments</span>
<span class="k">for</span> <span class="n">topic_qrels</span> <span class="ow">in</span> <span class="n">qrels</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic_qrels</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocAssessments">AdhocAssessments</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2020/judged__citation">Citation</a>
<div id="msmarco-document-v2/trec-dl-2020/judged__citation" class="tab-content">
<p><a href="ir_datasets.bib">ir_datasets.bib</a>:</p><cite class="select">\cite{Craswell2020TrecDl,Bajaj2016Msmarco}</cite>
<p>Bibtex:</p>
<cite class="select">@inproceedings{Craswell2020TrecDl,
  title={Overview of the TREC 2020 deep learning track},
  author={Nick Craswell and Bhaskar Mitra and Emine Yilmaz and Daniel Campos},
  booktitle={TREC},
  year={2020}
}
@inproceedings{Bajaj2016Msmarco,
  title={MS MARCO: A Human Generated MAchine Reading COmprehension Dataset},
  author={Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao, Xiaodong Liu, Rangan Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, Mir Rosenberg, Xia Song, Alina Stoica, Saurabh Tiwary, Tong Wang},
  booktitle={InCoCo@NIPS},
  year={2016}
}</cite>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2020/judged__metadata">Metadata</a>
<div id="msmarco-document-v2/trec-dl-2020/judged__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 45
  },
  "qrels": {
    "count": 7942,
    "fields": {
      "relevance": {
        "counts_by_value": {
          "0": 6371,
          "3": 233,
          "1": 1059,
          "2": 279
        }
      }
    }
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/trec-dl-2021" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/trec-dl-2021"</span></kbd></h3>

<div class="desc">
 <p> Official topics for the TREC Deep Learning (DL) 2021 shared task. </p> <p> Note that at this time, qrels are only available to those with TREC active participant login credentials. </p> <p>Official evaluation measures: <a href="https://ir-measur.es/en/latest/measures.html"><kbd>AP@100</kbd></a>, <a href="https://ir-measur.es/en/latest/measures.html"><kbd>nDCG@10</kbd></a>, <a href="https://ir-measur.es/en/latest/measures.html"><kbd>P@10</kbd></a>, <a href="https://ir-measur.es/en/latest/measures.html"><kbd>RR(rel=2)</kbd></a></p>
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/trec-dl-2021__queries">queries</a>
<div id="msmarco-document-v2/trec-dl-2021__queries" class="tab-content">
<span class="ds-count"><kbd title="477">477</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2021&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2021 queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2021&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2021.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2021__docs">docs</a>
<div id="msmarco-document-v2/trec-dl-2021__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2021&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2021 docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2021&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2021&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2021__qrels">qrels</a>
<div id="msmarco-document-v2/trec-dl-2021__qrels" class="tab-content">
<span class="ds-count"><kbd title="13058">13K</kbd> <kbd>qrels</kbd></span>

<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">TrecQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">iteration</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th><th>Count</th><th>%</th></tr>
<tr><td class="relScore">0</td><td>Irrelevant: Document does not provide any useful information about the query</td><td class="right"><kbd title="4855">4.9K</kbd></td><td class="right">37.2%</td></tr>
<tr><td class="relScore">1</td><td>Relevant: Document provides some information relevant to the query, which may be minimal.</td><td class="right"><kbd title="4178">4.2K</kbd></td><td class="right">32.0%</td></tr>
<tr><td class="relScore">2</td><td>Highly relevant: The content of this document provides substantial information on the query.</td><td class="right"><kbd title="2769">2.8K</kbd></td><td class="right">21.2%</td></tr>
<tr><td class="relScore">3</td><td>Perfectly relevant: Document is dedicated to the query, it is worthy of being a top result in a search engine.</td><td class="right"><kbd title="1256">1.3K</kbd></td><td class="right">9.6%</td></tr>
</table>

<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2021&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qrel</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">qrels_iter</span><span class="p">():</span>
    <span class="n">qrel</span> <span class="c1"># namedtuple&lt;query_id, doc_id, relevance, iteration&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2021 qrels --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[relevance]&nbsp;&nbsp;&nbsp;&nbsp;[iteration]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="kn">from</span> <span class="nn">pyterrier.measures</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2021&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pipeline</span><span class="p">],</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(),</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_qrels</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">AP</span><span class="o">@</span><span class="mi">100</span><span class="p">,</span> <span class="n">nDCG</span><span class="o">@</span><span class="mi">10</span><span class="p">,</span> <span class="n">P</span><span class="o">@</span><span class="mi">10</span><span class="p">,</span> <span class="n">RR</span><span class="p">(</span><span class="n">rel</span><span class="o">=</span><span class="mi">2</span><span class="p">)]</span>
<span class="p">)</span>
</pre></div>
<p>You can find more details about PyTerrier experiments <a href="https://pyterrier.readthedocs.io/en/latest/experiments.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">qrels</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2021.qrels&#39;</span><span class="p">)</span>  <span class="c1"># AdhocAssessments</span>
<span class="k">for</span> <span class="n">topic_qrels</span> <span class="ow">in</span> <span class="n">qrels</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic_qrels</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocAssessments">AdhocAssessments</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2021__scoreddocs">scoreddocs</a>
<div id="msmarco-document-v2/trec-dl-2021__scoreddocs" class="tab-content">
<span class="ds-count"><kbd title="47700">48K</kbd> <kbd>scoreddocs</kbd></span>

<div>Scored Document type:</div>
<div class="type">
<div class="type-name">GenericScoredDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">score</span>: <span class="kwd">float</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2021&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">scoreddoc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">scoreddocs_iter</span><span class="p">():</span>
    <span class="n">scoreddoc</span> <span class="c1"># namedtuple&lt;query_id, doc_id, score&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2021 scoreddocs --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[score]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2021&#39;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
</pre></div>
<p>You can find more details about PyTerrier dataset API <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#pyterrier.datasets.Dataset.get_results">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datamaestro</span> <span class="c1"># Supposes experimaestro-ir be installed</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">datamaestro</span><span class="o">.</span><span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2021.scoreddocs&#39;</span><span class="p">)</span> <span class="c1"># AdhocRun</span>
<span class="c1"># A run is a generic object, and is specialized into final classes</span>
<span class="c1"># e.g. TrecAdhocRun </span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocRun">AdhocRun</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2021__metadata">Metadata</a>
<div id="msmarco-document-v2/trec-dl-2021__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 477
  },
  "qrels": {
    "count": 13058,
    "fields": {
      "relevance": {
        "counts_by_value": {
          "2": 2769,
          "0": 4855,
          "3": 1256,
          "1": 4178
        }
      }
    }
  },
  "scoreddocs": {
    "count": 47700
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/trec-dl-2021/judged" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/trec-dl-2021/judged"</span></kbd></h3>

<div class="desc">
 <p> <a class="ds-ref">msmarco-document-v2/trec-dl-2021</a>, but filtered down to the 57 queries with qrels. </p> <p> Note that at this time, this is only available to those with TREC active participant login credentials. </p> <p>Official evaluation measures: <a href="https://ir-measur.es/en/latest/measures.html"><kbd>AP@100</kbd></a>, <a href="https://ir-measur.es/en/latest/measures.html"><kbd>nDCG@10</kbd></a>, <a href="https://ir-measur.es/en/latest/measures.html"><kbd>P@10</kbd></a>, <a href="https://ir-measur.es/en/latest/measures.html"><kbd>RR(rel=2)</kbd></a></p>
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/trec-dl-2021/judged__queries">queries</a>
<div id="msmarco-document-v2/trec-dl-2021/judged__queries" class="tab-content">
<span class="ds-count"><kbd title="57">57</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2021/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2021/judged queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2021/judged&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2021.judged.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2021/judged__docs">docs</a>
<div id="msmarco-document-v2/trec-dl-2021/judged__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2021/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2021/judged docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2021/judged&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2021.judged&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2021/judged__qrels">qrels</a>
<div id="msmarco-document-v2/trec-dl-2021/judged__qrels" class="tab-content">
<span class="ds-count"><kbd title="13058">13K</kbd> <kbd>qrels</kbd></span>
<p>Inherits qrels from <a class="ds-ref">msmarco-document-v2/trec-dl-2021</a></p>
<div>Query relevance judgment type:</div>
<div class="type">
<div class="type-name">TrecQrel: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">relevance</span>: <span class="kwd">int</span></li><li data-tuple-idx="3"><span class="">iteration</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Relevance levels</p>

<table>
<tr><th>Rel.</th><th>Definition</th><th>Count</th><th>%</th></tr>
<tr><td class="relScore">0</td><td>Irrelevant: Document does not provide any useful information about the query</td><td class="right"><kbd title="4855">4.9K</kbd></td><td class="right">37.2%</td></tr>
<tr><td class="relScore">1</td><td>Relevant: Document provides some information relevant to the query, which may be minimal.</td><td class="right"><kbd title="4178">4.2K</kbd></td><td class="right">32.0%</td></tr>
<tr><td class="relScore">2</td><td>Highly relevant: The content of this document provides substantial information on the query.</td><td class="right"><kbd title="2769">2.8K</kbd></td><td class="right">21.2%</td></tr>
<tr><td class="relScore">3</td><td>Perfectly relevant: Document is dedicated to the query, it is worthy of being a top result in a search engine.</td><td class="right"><kbd title="1256">1.3K</kbd></td><td class="right">9.6%</td></tr>
</table>

<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2021/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">qrel</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">qrels_iter</span><span class="p">():</span>
    <span class="n">qrel</span> <span class="c1"># namedtuple&lt;query_id, doc_id, relevance, iteration&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2021/judged qrels --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[relevance]&nbsp;&nbsp;&nbsp;&nbsp;[iteration]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="kn">from</span> <span class="nn">pyterrier.measures</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2021/judged&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pt</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span>
    <span class="p">[</span><span class="n">pipeline</span><span class="p">],</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(),</span>
    <span class="n">dataset</span><span class="o">.</span><span class="n">get_qrels</span><span class="p">(),</span>
    <span class="p">[</span><span class="n">AP</span><span class="o">@</span><span class="mi">100</span><span class="p">,</span> <span class="n">nDCG</span><span class="o">@</span><span class="mi">10</span><span class="p">,</span> <span class="n">P</span><span class="o">@</span><span class="mi">10</span><span class="p">,</span> <span class="n">RR</span><span class="p">(</span><span class="n">rel</span><span class="o">=</span><span class="mi">2</span><span class="p">)]</span>
<span class="p">)</span>
</pre></div>
<p>You can find more details about PyTerrier experiments <a href="https://pyterrier.readthedocs.io/en/latest/experiments.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">qrels</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2021.judged.qrels&#39;</span><span class="p">)</span>  <span class="c1"># AdhocAssessments</span>
<span class="k">for</span> <span class="n">topic_qrels</span> <span class="ow">in</span> <span class="n">qrels</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic_qrels</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocAssessments">AdhocAssessments</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2021/judged__scoreddocs">scoreddocs</a>
<div id="msmarco-document-v2/trec-dl-2021/judged__scoreddocs" class="tab-content">
<span class="ds-count"><kbd title="5700">5.7K</kbd> <kbd>scoreddocs</kbd></span>

<div>Scored Document type:</div>
<div class="type">
<div class="type-name">GenericScoredDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">score</span>: <span class="kwd">float</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2021/judged&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">scoreddoc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">scoreddocs_iter</span><span class="p">():</span>
    <span class="n">scoreddoc</span> <span class="c1"># namedtuple&lt;query_id, doc_id, score&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2021/judged scoreddocs --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[score]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2021/judged&#39;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
</pre></div>
<p>You can find more details about PyTerrier dataset API <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#pyterrier.datasets.Dataset.get_results">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datamaestro</span> <span class="c1"># Supposes experimaestro-ir be installed</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">datamaestro</span><span class="o">.</span><span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2021.judged.scoreddocs&#39;</span><span class="p">)</span> <span class="c1"># AdhocRun</span>
<span class="c1"># A run is a generic object, and is specialized into final classes</span>
<span class="c1"># e.g. TrecAdhocRun </span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocRun">AdhocRun</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2021/judged__metadata">Metadata</a>
<div id="msmarco-document-v2/trec-dl-2021/judged__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 57
  },
  "qrels": {
    "count": 13058,
    "fields": {
      "relevance": {
        "counts_by_value": {
          "2": 2769,
          "0": 4855,
          "3": 1256,
          "1": 4178
        }
      }
    }
  },
  "scoreddocs": {
    "count": 5700
  }
}</pre>
</div>
</div>
</div>

<hr />
<div class="dataset" id="msmarco-document-v2/trec-dl-2022" data-parent="msmarco-document-v2">
<h3><kbd class="ds-name select"><span class="str">"msmarco-document-v2/trec-dl-2022"</span></kbd></h3>

<div class="desc">
 <p> Official topics for the TREC Deep Learning (DL) 2022 shared task. </p> 
</div>
<div class="tabs">
<a class="tab" target="msmarco-document-v2/trec-dl-2022__queries">queries</a>
<div id="msmarco-document-v2/trec-dl-2022__queries" class="tab-content">
<span class="ds-count"><kbd title="500">500</kbd> <kbd>queries</kbd></span>

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">GenericQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2022&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2022 queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2022&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">())</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">topics</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2022.queries&#39;</span><span class="p">)</span>  <span class="c1"># AdhocTopics</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topics</span><span class="o">.</span><span class="n">iter</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span>  <span class="c1"># An AdhocTopic</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocTopics">AdhocTopics</a>.</p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2022__docs">docs</a>
<div id="msmarco-document-v2/trec-dl-2022__docs" class="tab-content">
<span class="ds-count"><kbd title="11959635">12M</kbd> <kbd>docs</kbd></span>
<p>Inherits docs from <a class="ds-ref">msmarco-document-v2</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">MsMarcoV2Document: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">title</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">headings</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">body</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2022&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, url, title, headings, body&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2022 docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[title]&nbsp;&nbsp;&nbsp;&nbsp;[headings]&nbsp;&nbsp;&nbsp;&nbsp;[body]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2022&#39;</span><span class="p">)</span>
<span class="c1"># Index msmarco-document-v2</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/msmarco-document-v2&#39;</span><span class="p">,</span> <span class="n">meta</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;docno&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;headings&#39;</span><span class="p">,</span> <span class="s1">&#39;body&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datamaestro</span> <span class="kn">import</span> <span class="n">prepare_dataset</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2022&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_documents</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>  <span class="c1"># an AdhocDocumentStore</span>
    <span class="k">break</span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocDocumentStore">AdhocDocumentStore</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2022__scoreddocs">scoreddocs</a>
<div id="msmarco-document-v2/trec-dl-2022__scoreddocs" class="tab-content">
<span class="ds-count"><kbd title="50000">50K</kbd> <kbd>scoreddocs</kbd></span>

<div>Scored Document type:</div>
<div class="type">
<div class="type-name">GenericScoredDoc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">score</span>: <span class="kwd">float</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;msmarco-document-v2/trec-dl-2022&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">scoreddoc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">scoreddocs_iter</span><span class="p">():</span>
    <span class="n">scoreddoc</span> <span class="c1"># namedtuple&lt;query_id, doc_id, score&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> msmarco-document-v2/trec-dl-2022 scoreddocs --format tsv
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[score]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:msmarco-document-v2/trec-dl-2022&#39;</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
</pre></div>
<p>You can find more details about PyTerrier dataset API <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#pyterrier.datasets.Dataset.get_results">here</a>.</p></div>
<a class="ex-tab" target="xmpir">XPM-IR</a>
<div class="ex-tab-content xmpir">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datamaestro</span> <span class="c1"># Supposes experimaestro-ir be installed</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">datamaestro</span><span class="o">.</span><span class="n">prepare_dataset</span><span class="p">(</span><span class="s1">&#39;irds.msmarco-document-v2.trec-dl-2022.scoreddocs&#39;</span><span class="p">)</span> <span class="c1"># AdhocRun</span>
<span class="c1"># A run is a generic object, and is specialized into final classes</span>
<span class="c1"># e.g. TrecAdhocRun </span>
</pre></div>
<p>This examples requires that <a href="https://experimaestro-ir.readthedocs.io/">experimaestro-ir</a> be installed. For more information about the returned object, see the documentation about <a href="https://datamaestro-text.readthedocs.io/en/latest/api/ir.html#datamaestro_text.data.ir.AdhocRun">AdhocRun</a></p></div></div>
</div>

<a class="tab" target="msmarco-document-v2/trec-dl-2022__metadata">Metadata</a>
<div id="msmarco-document-v2/trec-dl-2022__metadata" class="tab-content">
<pre class="metadata">{
  "docs": {
    "count": 11959635,
    "fields": {
      "doc_id": {
        "max_len": 25,
        "common_prefix": "msmarco_doc_"
      }
    }
  },
  "queries": {
    "count": 500
  },
  "scoreddocs": {
    "count": 50000
  }
}</pre>
</div>
</div>
</div>

<script type="text/javascript">
$(function () {
    $.ajax({
        'url': 'https://ir-datasets.com/dlc/msmarco-document-v2.json'
    }).done(function (data) {
        $('#Downloads').append(generateDownloads('Downloadable content', data));
    });
});
</script>

</div>
</body>
</html>
